classDiagram
    class User {
        +String username
        +String email
        +String password
        +Boolean tieneConfirmedEmail
        +String firstName
        +String lastName
        +String bio
        +Number phoneNumber
        +Image avatar
        +Date lastLogin
        +Array wishlist
        +UserCart cart
        +Boolean isSeller
        +String role
        +Array addressDirections
        +String googleId
                +Date createdAt
        +Date updatedAt

    }

    class Image {
        +String originalName
        +String url
        +String contentType
        +String size
    }

    class AddressDirection {
        +String pinCode
        +String locality
        +String addressLine1
        +String addressLine2
        +String cityDistrictTown
        +String state
        +String alternatePhone
        +String addressType
                +Date createdAt
        +Date updatedAt

    }

    class UserCart {
        +Array items
        +Number totalPrice
    }

    class CartItem {
        +Number quantity
        +String productId
        +Number price
        +String sellerId
                +Date AddedAt

    }

    class Category {
        +String name
        +String description
                +Date createdAt
        +Date updatedAt

    }

    class UserQuestion {
        +String content
        +String answer
        +Boolean isAnswered
                +Date createdAt
        +Date updatedAt

    }

    class ProductSpecification {
        +String width
        +String depth
        +String height
        +String material
        +String finish
        +Boolean assemblyRequired
        +Number weightCapacity
    }

    class Product {
        +String name
        +String description
        +Number price
        +Number discount
        +Number finalPrice
        +Number quantity
        +Array categories
        +Boolean isDeleted
        +ProductSpecification specifications
        +Array brand
        +Array images
        +Number likes
        +Number dislikes
        +Number wishlistCount
        +Number commentCount
        +Array userQuestions
        +Number averageReview
                +Date createdAt
        +Date updatedAt

    }

   class Review {
        +String content
        +String product
        +String author
        +Array images
        +Number review
                +Date createdAt
        +Date updatedAt

    }
      class OrderItem {
        +String product
        +Number quantity
        +Number price
    }

    class Order {
        +String customerId
        +Number totalPrice
        +String status
        +Array orderItems
                +Date createdAt
        +Date updatedAt

    }
        class Report {
        +String reportedPost
        +String reportedReview
        +String reporter
        +String reason
        +String problemDescription
        +Boolean resolved
        +String resolution
                +Date createdAt
        +Date updatedAt

    }

    class AuthController {
        +signup()
        +login()
        +logout()
        +getAuthUser()
        +refreshToken()
        +resetPassword()
        +resendResetPassword()
        +confirmationEmail()
        +resendConfirmationEmail()
    }

    class GoogleAuth {
        +passport.authenticate("google")
        +googleCallback()
    }


    class AddressDirectionController {
        +createAddressDirection()
        +updateAddressDirection()
        +deleteAddressDirection()
    }

        class CategoryController {
        +searchCategories()
        +getCategoriesWithPagination()
        +getCategoryById()
        +getCategoryByName()
        +createCategory()
        +updateCategory()
        +deleteCategory()
    }

        class ProductController {
        +searchProducts()
        +getProductsWithPagination()
        +createProduct()
        +uploadImages()
        +updateProduct()
        +deleteProduct()
        +getProductsByAuthorWithPagination()
        +getProductById()
        +getProductsByCategoryWithPagination()
    }


    class ReviewController {
        +getAllReviews()
        +getUserReviews()
        +getReviewsFromProduct()
        +getReviewById()
        +createReview()
        +uploadImages()
        +updateReview()
        +deleteReview()
    }
    class UserController {
        +updateUser()
        +deleteUser()
        +getUserById()
        +getUserByUsername()
    }

    class UserProductActionController {
        +addProductToCart()
        +removeProductFromCart()
        +getUserWishlist()
        +toggleProductWishlist()
    }
    class ProductQuestionController {
        +createUserQuestion()
        +updateUserQuestion()
        +createAnswerForQuestion()
        +deleteUserQuestion()
    }

    class ReportController {
        +getReportsFromAProduct()
        +createReport()
        +updateReport()
        +deleteReport()
        +getReportedById()
        +getReportedProductstByUser()
        +getReportsFromReview()
        +getReportedReviewsByUser()
    }
    class OrderController {
        +getOrdersByUser()
        +createOrder()
        +updateOrder()
        +deleteOrder()
    }

        class OrderItemController {
        +updateOrderItem()
        +deleteOrderItem()
    }

    OrderItemController --> OrderItem : utiliza
    OrderItemController --> Order : utiliza


    OrderController --> Order : utiliza
    OrderController --> User : utiliza

    ReportController --> Report : utiliza
    ReportController --> Product : utiliza
    ReportController --> Review : utiliza
    ReportController --> User : utiliza


    ProductQuestionController --> User : utiliza
    ProductQuestionController --> Product : utiliza
    ProductQuestionController --> UserQuestion : utiliza

    UserProductActionController --> User : utiliza
    UserProductActionController --> Product : utiliza


    UserController --> User : utiliza

    ReviewController --> Review : utiliza

    ProductController --> Product : utiliza


    CategoryController --> Category : utiliza


    AddressDirectionController --> AddressDirection : utiliza


    AuthController --> User : utiliza
    AuthController --> GoogleAuth : utiliza


    Product "1" --> "0..*" Report : reportado en
    Review "1" --> "0..*" Report : reportado en
    User "1" --> "0..*" Report : reportes


    Product "1" --> "0..*" OrderItem : tiene
    Order "1" --> "0..*" OrderItem : contiene
    User "1" --> "0..*" Order : places
    Product "1" --> "0..*" Review : tiene
    User "1" --> "0..*" Review : autor de

    User "1" --> "0..*" Image : tiene
    User "1" --> "0..*" AddressDirection : tiene
    User "1" --> "1" UserCart : tiene
    UserCart "1" --> "0..*" CartItem : contiene

    CartItem "1" --> "1" Product : references
    Product "1" --> "0..*" User : liked by
    Category "1" --> "1" User : created by
    Product "1" --> "0..*" Category : tiene
    Product "1" --> "0..*" UserQuestion : tiene
    Product "1" --> "1" ProductSpecification : tiene
    UserQuestion "1" --> "1" User : pregunta
